HOME     = .
RANDFILE = $ENV::HOME/.rnd

[ ca ]
default_ca = CA_default
[ CA_default ]
dir		= .
database	= $dir/index.txt
new_certs_dir	= $dir
serial		= $dir/serial
crlnumber	= $dir/crlnumber
RANDFILE	= $dir/.rand
crl_extensions	= crl_ext
preserve	= no			# keep passed DN ordering
policy		= policy_match
copy_extensions = copy   # for copying requested extensions

[ policy_match ]
countryName         = match
stateOrProvinceName	= match
organizationName	  = match
organizationalUnitName	= optional
commonName          = supplied
emailAddress        = optional

[ req ]
distinguished_name = req_distinguished_name
string_mask = utf8only
[ req_distinguished_name ]

[ rca ]
subjectKeyIdentifier = hash
basicConstraints     = critical, CA:true
keyUsage             = critical, digitalSignature, cRLSign, keyCertSign

[ ica ]
subjectKeyIdentifier   = hash
authorityKeyIdentifier = keyid:always, issuer
basicConstraints       = critical, CA:TRUE, pathlen:0
keyUsage = critical, digitalSignature, cRLSign, keyCertSign
crlDistributionPoints  = URI:http://www.hogesystems.com/root-revoke.crl
authorityInfoAccess    = OCSP;URI:http://root-ocsp.hogesystems.com:2560

[ usr ]
subjectKeyIdentifier   = hash
authorityKeyIdentifier = keyid, issuer
basicConstraints       = CA:FALSE
crlDistributionPoints  = URI:http://www.hogesystems.com/revoke.crl
authorityInfoAccess    = OCSP;URI:http://ocsp.hogesystems.com:2560

[ crl_ext ]
authorityKeyIdentifier=keyid:always,issuer:

[ ocsp ]
subjectKeyIdentifier = hash
authorityKeyIdentifier = keyid,issuer
basicConstraints = CA:FALSE
keyUsage = critical, digitalSignature, keyEncipherment, nonRepudiation
extendedKeyUsage = critical, OCSPSigning
noCheck=yes   # no check extension for not checking revoke status of ocsp responder's cert
authorityInfoAccess = OCSP;URI:http://ocsp.hogesystems.com:2560  # responder's cert for itself
